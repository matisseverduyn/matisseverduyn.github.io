var app=new Vue({el:'#app',data(){return{'kHLanguages':{'english':'abcdefghijklmnopqrstuvwxyz','russian':'абвгдеёжзийклмнопрстуфхцчшщъыьэюя'},'kSLanguage':'english','kNGame':Date.now(),'kNInterval':null,'kAColors':['rainbow','black','blue','green','orange','pink','purple','red','turquoise','yellow'],'kHHex':{'rainbow':'transparent','black':'transparent','blue':'#0000ff','green':'#00ff00','orange':'#ff8000','pink':'#ff0080','purple':'#ff00ff','red':'#ed1f24','turquoise':'#00ffff','yellow':'#ffff00'},'kHAnims':{'rainbow':'blink','black':'blink','blue':'blink','green':'blink','orange':'blink','pink':'blink','purple':'blink','red':'blink','turquoise':'blink','yellow':'blink'},'kASpeeds':['slowly','quickly','rapidly'],'kHSpeeds':{'slowly':12000,'quickly':9000,'rapidly':6000,'immediately':4500},'kAPixits':[],'kHLanes':{'0':!1,'1':!1,'2':!1,'3':!1,'4':!1,'5':!1,'6':!1,'7':!1,'8':!1,'9':!1,'10':!1,'11':!1,'12':!1,'13':!1},'kHSlots':{'0':!1,'1':!1,'2':!1,'3':!1,'4':!1,'5':!1,'6':!1,'7':!1,'8':!1,'9':!1,'10':!1,'11':!1,'12':!1,'13':!1},'kNMistakes':0,'kNPoints':0}},methods:{ms_click($oHPixit){try{let $rI=this;if(Date.now()<$oHPixit.id+$oHPixit.dies){if($oHPixit.color===$rI.kHSlots[$oHPixit.lane]||$oHPixit.color==='rainbow'){$rI.kNMistakes+=1;if($rI.kNMistakes>2){$rI.ms_game_over()}}
$oHPixit.clicked=!0}}catch($e){}},ms_press($aSCharacter){try{let $rI=this;if($aSCharacter.length>0){let $vBClicked=!1;for(let $i1i=0,$i1n=$rI.kAPixits.length;$i1i<$i1n;$i1i+=1){if($rI.kAPixits[$i1i].clicked!==!0){if($rI.kAPixits[$i1i].letter===$aSCharacter&&($rI.kAPixits[$i1i].color!==$rI.kHSlots[$rI.kAPixits[$i1i].lane]&&$rI.kAPixits[$i1i].color!=='rainbow')){$rI.ms_click($rI.kAPixits[$i1i]);$vBClicked=!0}}}
if($vBClicked===!1&&$rI.kHLanguages[$rI.kSLanguage].indexOf($aSCharacter)>-1){$rI.kNMistakes+=1;if($rI.kNMistakes>2){$rI.ms_game_over()}}}}catch($e){}},ms_game_over(){try{let $rI=this;$rI.kNGame=Date.now();clearInterval($rI.kNInterval);$rI.kAPixits=[];$rI.kHLanes={'0':!1,'1':!1,'2':!1,'3':!1,'4':!1,'5':!1,'6':!1,'7':!1,'8':!1,'9':!1,'10':!1,'11':!1,'12':!1,'13':!1};$rI.kHSlots={'0':!1,'1':!1,'2':!1,'3':!1,'4':!1,'5':!1,'6':!1,'7':!1,'8':!1,'9':!1,'10':!1,'11':!1,'12':!1,'13':!1};$rI.kASpeeds.splice(3)}catch($e){}},ma_new_game(){return new Promise(async(resolve,reject)=>{try{let $rI=this;try{clearInterval($rI.kNInterval)}catch($e){}
$rI.kNGame=Date.now();$rI.kNPoints=0;$rI.kNMistakes=0;$rI.kAPixits=[];$rI.kHLanes={'0':!1,'1':!1,'2':!1,'3':!1,'4':!1,'5':!1,'6':!1,'7':!1,'8':!1,'9':!1,'10':!1,'11':!1,'12':!1,'13':!1};$rI.kHSlots={'0':!1,'1':!1,'2':!1,'3':!1,'4':!1,'5':!1,'6':!1,'7':!1,'8':!1,'9':!1,'10':!1,'11':!1,'12':!1,'13':!1};$rI.kASpeeds.splice(3);$rI.$forceUpdate();try{$rI.kNInterval=setInterval(()=>{let $kNLane=Math.floor(Math.random()*Object.keys($rI.kHLanes).length);if($rI.kHLanes[$kNLane]===!0){if(Math.floor(Math.random()*2)===0){for(let $i1i=$kNLane;$i1i<Object.keys($rI.kHLanes).length;$i1i+=1){if($rI.kHLanes[$kNLane]===!1){$kNLane=$i1i;break}}}else{for(let $i1i=$kNLane;$i1i>-1;$i1i-=1){if($rI.kHLanes[$kNLane]===!1){$kNLane=$i1i;break}}}}
if($rI.kHLanes[$kNLane]===!1){$rI.kHLanes[$kNLane]=!0;let $vSColor=$rI.kAColors[Math.floor(Math.random()*$rI.kAColors.length)];$rI.kHSlots[$kNLane]=(($vSColor!=='rainbow'&&$vSColor!=='black'&&Math.floor(Math.random()*5)===0)?$vSColor:$rI.kAColors[2+Math.floor(Math.random()*($rI.kAColors.length-2))]);let $vSSpeed=$rI.kASpeeds[Math.floor(Math.random()*$rI.kASpeeds.length)];let $vNDelay=500+(Math.floor(Math.random()*2500));let $vNLives=$rI.kHSpeeds[$vSSpeed]+$vNDelay;let $vHPixit={'id':Date.now(),'lane':$kNLane,'color':$vSColor,'img':'./assets/images/pixits/'+$vSColor+'.png','alt':'./assets/images/pixits/'+$vSColor+'-alt.png','anim':$rI.kHAnims[$vSColor],'speed':$vSSpeed,'dies':$vNLives,'falling':!1,'through':($vSColor===$rI.kHSlots[$kNLane]||$vSColor==='rainbow'),'clicked':!1,'letter':$rI.kHLanguages[$rI.kSLanguage].substr(Math.floor(Math.random()*$rI.kHLanguages[$rI.kSLanguage].length),1)};setTimeout(()=>{$vHPixit.falling=!0},$vNDelay);let $vNGame=$rI.kNGame;setTimeout(()=>{if($vNGame===$rI.kNGame){if($vHPixit.clicked===!1){if($vHPixit.color===$rI.kHSlots[$kNLane]||$vHPixit.color==='rainbow'){if($rI.kNMistakes<3){$rI.kHLanes[$vHPixit.lane]=!1;$rI.kHSlots[$vHPixit.lane]=!1;$rI.kAPixits.splice($rI.kAPixits.indexOf($vHPixit),1);$rI.kNPoints+=1;if($rI.kNPoints%6===0){$rI.kASpeeds.push('immediately')}}}else{$rI.kNMistakes+=1;if($rI.kNMistakes>2){$rI.ms_game_over()}}}else{if($rI.kNMistakes<3){$rI.kHLanes[$vHPixit.lane]=!1;$rI.kHSlots[$vHPixit.lane]=!1;$rI.kAPixits.splice($rI.kAPixits.indexOf($vHPixit),1)}}}},$vNLives+1);$rI.kAPixits.push($vHPixit)}},1000)}catch($e){}
this.$nextTick(function(){this.$refs.autofocus.value='';this.$refs.autofocus.focus()})}catch($e){}})}},created(){return new Promise(async(resolve,reject)=>{try{let $rI=this;try{setTimeout(()=>{$rI.ma_new_game()},2000)}catch($e){}
resolve();return}catch($e){reject($e)}})},mounted(){return new Promise(async(resolve,reject)=>{try{try{this.$refs.autofocus.focus()}catch($e){}
resolve();return}catch($e){reject($e)}})},beforeDestroy(){return new Promise(async(resolve,reject)=>{try{try{clearInterval(this.kNInterval)}catch($e){}
resolve();return}catch($e){reject($e)}})}})
